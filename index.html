<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <!-- Viewport meta tag for mobile responsiveness -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gotchi Banking Services</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>

<header>
  <div class="header-left">
    <h1>Gotchi Banking Services</h1>
    <p>Contract: 
      <a id="contract-address-link" href="https://polygonscan.com/address/0x86935F11C86623deC8a25696E1C19a8659CbF95d" target="_blank" rel="noopener noreferrer" class="address-link" title="0x86935F11C86623deC8a25696E1C19a8659CbF95d">
        0x8693...F95d
      </a>
    </p>
    <p>Network: <span id="network-name">Not Connected</span></p>
  </div>
  <button id="connect-wallet" class="button">Connect Wallet</button>
</header>

<main>
  <div id="wallet-info" class="wallet-info"></div>
  <div id="aavegotchi-info" class="aavegotchi-info">
    <!-- Aavegotchi details will be populated here -->
  </div>
  <div class="form-wrapper">
    <div id="method-forms">
      <!-- Tab-Based Distribution Forms -->
      <div class="tabs">
        <button class="tab-button active" data-tab="proportional">Proportional</button>
        <button class="tab-button" data-tab="equal">Equal</button>
        <button class="tab-button" data-tab="user-specified">User-Specified</button>
      </div>
      
      <!-- Proportional Distribution Tab Content -->
      <div class="tab-content" id="proportional">
        <form id="proportional-form">
          <div class="form-group">
            <label for="proportional-amount">Total Withdrawal Amount:</label>
            <div class="input-wrapper">
              <input type="text" id="proportional-amount" name="proportional-amount" class="input" placeholder="Enter total GHST to withdraw">
              <button type="button" class="max-button">Max</button>
            </div>
          </div>
          <div id="proportional-breakdown" class="breakdown-table">
            <!-- Withdrawal breakdown will be displayed here -->
          </div>
          <button type="submit" class="button submit-button">Withdraw Proportionally</button>
        </form>
      </div>
      
      <!-- Equal Distribution Tab Content -->
      <div class="tab-content hidden" id="equal">
        <form id="equal-form">
          <div class="form-group">
            <label for="equal-amount">Total Withdrawal Amount:</label>
            <div class="input-wrapper">
              <input type="text" id="equal-amount" name="equal-amount" class="input" placeholder="Enter total GHST to withdraw">
              <button type="button" class="max-button">Max</button>
            </div>
          </div>
          <div id="equal-breakdown" class="breakdown-table">
            <!-- Withdrawal breakdown will be displayed here -->
          </div>
          <button type="submit" class="button submit-button">Withdraw Equally</button>
        </form>
      </div>
      
      <!-- User-Specified Distribution Tab Content -->
      <div class="tab-content hidden" id="user-specified">
        <form id="user-specified-form">
          <div class="form-group">
            <label for="user-total-amount">Total Withdrawal Amount:</label>
            <div class="input-wrapper">
              <input type="text" id="user-total-amount" name="user-total-amount" class="input" placeholder="Enter total GHST to withdraw">
              <button type="button" class="max-button">Max</button>
            </div>
          </div>
          
          <div class="form-group">
            <label>Allocate to Each Aavegotchi:</label>
            <div id="user-allocation" class="allocation">
              <!-- Allocation fields will be dynamically generated here -->
            </div>
          </div>
          
          <div id="user-validation" class="validation-message"></div>
          
          <button type="submit" class="button submit-button">Withdraw as Specified</button>
        </form>
      </div>
    </div>
  </div>
</main>

<!-- Moved the Diamond Standard link to the footer -->
<footer>
  <nav>
    <a href="https://eips.ethereum.org/EIPS/eip-2535" target="_blank">Diamond Standard (EIP-2535)</a>
  </nav>
</footer>

<!-- Load Ethers.js UMD build via CDN with SRI -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/6.13.2/ethers.umd.min.js" integrity="sha384-gpR0Q6Hx/O+uevlbpbANbS0LWjbejPV1sqD/8w422l/fW8whGY0EPmKw3uG7ACYP" crossorigin="anonymous"></script>
<script src="app.js"></script>
</body>
</html>
